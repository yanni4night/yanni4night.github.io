<!DOCTYPE html>
<html lang="zh-cn">
    <head>
        <meta charset="utf-8"/>
        <title>Chrome 39 test</title>
        <style type="text/css">
        output{
            display: block;
            margin: 1em 0;
        }
        .ua{
            color:cyan;
            font-family: monospace;
        }
        .test {
        color: #fff;
        height: 100px;
        background: blue;
        padding: 1em;
        }
        .new{
            background: yellow;
            color:red;
            padding: 10px;
        }
        </style>
    </head>
    <body>
        <div class="test">
            <output class="ua">
                <script>document.write(navigator.userAgent)</script>
            </output>

            <output class="result">
                
            </output>
        </div>
    </body>
    <script>
    var isChrome39 = navigator.userAgent.match(/Chrome\/39/);
    var hasSpecialQuery = /(%\w\w)+/.test(location.search);
    var $result = document.querySelector('.test .result');
    if(isChrome39){
        if(hasSpecialQuery){
            $result.innerHTML = 'You are running on <b>Chrome 39</b>,this blue DIV may not show its styles in <strong>DevTools</strong>';
        }
        else{
            $result.innerHTML = 'You have to set a query with some special value,like "%F4%E4%B4%E4" or "%E7%FA%E7%EA"';
        }
    }else{
        $result.innerHTML = 'This page is for debugging under Chrome 39.';
    }

    (isChrome39&&hasSpecialQuery)&&setTimeout(function(){
        var div = document.createElement('div');
        div.className = div.id  = 'new';
        div.innerHTML = 'This is a new DIV created by JavaScript,still show no style in DevTools';
        document.body.appendChild(div);
    },3e+3);
    </script>
</html>